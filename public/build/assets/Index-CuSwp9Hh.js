import{j as e,r as c,A as o,y as d,Y as u,b as l}from"./app-CKGnkuWl.js";import{D as m}from"./DataTable-JlPUL4qp.js";import{c as x,a as g,B as i}from"./button-rv4JaW_D.js";import{A as p}from"./AuthenticatedLayout-DLcwZIFu.js";import{D as b}from"./index-CJ9LMwL3.js";import"./popover-BD4e04CA.js";import"./index-Diz8zdd3.js";import"./index-N1Jofh9g.js";import"./index-hpoL8vc9.js";import"./Combination-Bo5_z7jD.js";import"./index-BSxHL-J5.js";import"./input-K1h-9iAn.js";import"./alert-dialog-CUiXqJPn.js";const f=g("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function j({className:n,variant:r,...s}){return e.jsx("div",{className:x(f({variant:r}),n),...s})}function y({appUrl:n}){return[{accessorKey:"name",header:"Nama File",cell(r){return r.row.index===0?e.jsxs(e.Fragment,{children:[r.getValue(),e.jsx(j,{className:"ml-4 bg-green-500 text-foreground",children:"Baru"})]}):e.jsx(e.Fragment,{children:r.getValue()})}},{accessorKey:"created_at",header:"Tanggal Dibuat"},{accessorKey:"size",header:"Ukuran",cell(r){return e.jsxs("span",{children:[r.getValue()/1e3," KB"]})}},{accessorKey:"action",header(){return e.jsx("div",{className:"text-center",children:"Aksi"})},cell(r){return e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(i,{variant:"ghost",type:"button",className:"bg-blue-500 bg-opacity-5",onClick:async()=>{const s=await l.get(route("backups.download",r.row.original.name)),t=window.URL.createObjectURL(new Blob([s.data])),a=document.createElement("a");a.href=t,a.setAttribute("download",r.row.original.name),document.body.appendChild(a),a.click(),window.URL.revokeObjectURL(t),o.success("Berhasil mengunduh file.")},children:e.jsx(b,{className:"w-5 h-5 text-blue-500"})})})}}]}function E({auth:n,files:r,appUrl:s,flash:t}){const a=y({appUrl:s});return c.useEffect(()=>{o.dismiss(),t!=null&&t.success&&o.success(t.success),t!=null&&t.error&&o.error(t.error)},[t]),e.jsxs(p,{user:n.user,header:e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200",children:"Backup"}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(i,{onClick:()=>d.visit(route("backups.create")),children:"Buat Backup"})})]}),children:[e.jsx(u,{title:"Backup"}),e.jsx("div",{className:"px-8 pb-8 mx-auto max-w-7xl",children:e.jsx(m,{columns:a,data:r,showToolbar:!1})})]})}export{E as default};
