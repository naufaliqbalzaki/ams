import{r as i,A as c,j as e,Y as j}from"./app-GsvMLTbp.js";import{D as f,a as s}from"./DataTableColumnHeader-BwEu_6ug.js";import{B as g}from"./button-DMTDEWdO.js";import{A as h}from"./AuthenticatedLayout-D4x2_WJx.js";import{D as y}from"./index-ue1D0MB8.js";import"./popover-zjhrGS5m.js";import"./index-BWAX3dll.js";import"./index-DTtjnrCh.js";import"./input-B7Es11Z3.js";import"./alert-dialog-aT_Aunk6.js";function A({auth:n,subjects:l,flash:r}){const o=[{accessorKey:"subject",meta:"Perizinan",header:({column:t})=>e.jsx(s,{column:t,title:"Perizinan"})},{accessorKey:"verification_date",meta:"Tanggal Verifikasi",header:"",filterFn:"reportVerificationDateRangeFilter",cell(t){return null}},{accessorKey:"approved_total",meta:"Disetujui",header:({column:t})=>e.jsx("div",{className:"flex items-center justify-center gap-2 ml-4",children:e.jsx(s,{column:t,title:"Disetujui"})}),cell(t){return e.jsx("div",{className:"flex items-center justify-center gap-2",children:t.getValue()})}},{accessorKey:"corrective_total",meta:"Dikembalikan",header:({column:t})=>e.jsx("div",{className:"flex items-center justify-center gap-2 ml-4",children:e.jsx(s,{column:t,title:"Dikembalikan"})}),cell(t){return e.jsx("div",{className:"flex items-center justify-center gap-2",children:t.getValue()})}},{accessorKey:"total",meta:"Total",header:({column:t})=>e.jsx("div",{className:"flex items-center justify-center gap-2 ml-4",children:e.jsx(s,{column:t,title:"Total"})}),cell(t){return e.jsx("div",{className:"flex items-center justify-center gap-2",children:t.getValue()})}}],[a,m]=i.useState(void 0),[d,u]=i.useState([]);return i.useEffect(()=>{c.dismiss(),r!=null&&r.success&&c.success(r.success),r!=null&&r.error&&c.error(r.error);let t=[];a&&(a.rows.map(p=>{p.original.id.map(x=>{t.push(x.id)})}),u(t))},[r,a]),e.jsxs(h,{user:n.user,header:e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200",children:"Laporan"}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("a",{href:route("reports.download",{ids:d}),children:e.jsxs(g,{type:"button",children:[e.jsx(y,{className:"w-5 h-5"}),"Unduh"]})})})]}),children:[e.jsx(j,{title:"Laporan"}),e.jsx("div",{className:"px-8 pb-8 mx-auto max-w-[1728px]",children:e.jsx(f,{columns:o,data:l,name:"reports",searchParam:"subject",pageSizeOptions:[50,100,200,500],setFilteredData:m})})]})}export{A as default};
