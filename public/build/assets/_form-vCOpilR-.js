import{r as u,W as v,j as e}from"./app-CKGnkuWl.js";import{I as r}from"./InputError-CUjhcnXB.js";import{B as f}from"./button-rv4JaW_D.js";import{C as N}from"./checkbox-DoWi-Yr3.js";import{I as m}from"./input-K1h-9iAn.js";import{L as i}from"./label-BBTy-Ek8.js";import{S as b}from"./separator-DuYGb_nH.js";import"./index-CJ9LMwL3.js";import"./index-BSxHL-J5.js";import"./index-hpoL8vc9.js";import"./index-N1Jofh9g.js";import"./index-Bmcg_xQo.js";const B=({appUrl:x,instance:t})=>{const[n,d]=u.useState(null),{data:s,setData:l,post:p,processing:h,errors:o}=v(t||{name:"",is_active:!0,kepsek:"",website:"",email:"",image:null,address:"",district:"",city:"",province:"",postal_code:"",_method:"post"}),g=a=>{a.preventDefault(),t&&t.id&&(s._method="put",p(route("instances.update",t.id),{forceFormData:!0})),t||p(route("instances.store"))},j=a=>{if(a.target.files){l("image",a.target.files[0]);const c=new FileReader;c.onload=()=>{d(c.result)},c.readAsDataURL(a.target.files[0])}};return u.useEffect(()=>{if(t&&t.image){const a=x+"/storage/instances/"+t.image;d(a)}},[t]),e.jsxs("form",{onSubmit:g,children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"name",children:"Nama"}),e.jsx(m,{id:"name",type:"text",name:"name",value:s.name,className:"block w-full mt-1",autoComplete:"additional-name",onChange:a=>l("name",a.target.value)}),e.jsx(r,{message:o.name,className:"mt-2"})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[e.jsx(i,{htmlFor:"is_active",children:"Aktif ?"}),e.jsx(N,{id:"is_active",name:"is_active",checked:s.is_active,className:"block mt-1",onCheckedChange:a=>l("is_active",a)}),e.jsx(r,{message:o.is_active,className:"mt-2"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(i,{htmlFor:"website",children:"Website"}),e.jsx(m,{id:"website",type:"text",name:"website",value:s.website,className:"block w-full mt-1",autoComplete:"additional-name",onChange:a=>l("website",a.target.value)}),e.jsx(r,{message:o.website,className:"mt-2"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(i,{htmlFor:"email",children:"Email"}),e.jsx(m,{id:"email",type:"text",name:"email",value:s.email,className:"block w-full mt-1",autoComplete:"additional-name",onChange:a=>l("email",a.target.value)}),e.jsx(r,{message:o.email,className:"mt-2"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(i,{htmlFor:"image",children:"Logo"}),e.jsxs("div",{className:"flex flex-col items-center justify-center w-full gap-2",children:[n&&e.jsx("img",{src:n,alt:"image",className:"object-cover object-center w-48 h-48 transition-all duration-300 rounded-xl"}),e.jsx(m,{id:"image",type:"file",name:"image",accept:"image/png, image/jpeg, image/jpg",className:"block mt-1 ",onChange:j})]}),e.jsx(r,{message:o.image,className:"mt-2"})]}),e.jsx(b,{className:"mt-8"}),e.jsxs("div",{className:"mt-4",children:[e.jsx(i,{htmlFor:"address",children:"Alamat"}),e.jsx(m,{id:"address",type:"text",name:"address",value:s.address,className:"block w-full mt-1",autoComplete:"additional-name",onChange:a=>l("address",a.target.value)})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(i,{htmlFor:"district",children:"Kecamatan"}),e.jsx(m,{id:"district",type:"text",name:"district",value:s.district,className:"block w-full mt-1",autoComplete:"additional-name",onChange:a=>l("district",a.target.value)})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(i,{htmlFor:"city",children:"Kota"}),e.jsx(m,{id:"city",type:"text",name:"city",value:s.city,className:"block w-full mt-1",autoComplete:"additional-name",onChange:a=>l("city",a.target.value)})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(i,{htmlFor:"province",children:"Provinsi"}),e.jsx(m,{id:"province",type:"text",name:"province",value:s.province,className:"block w-full mt-1",autoComplete:"additional-name",onChange:a=>l("province",a.target.value)})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(i,{htmlFor:"postal_code",children:"Kode Pos"}),e.jsx(m,{id:"postal_code",type:"number",name:"postal_code",value:s.postal_code,className:"block w-full mt-1",autoComplete:"additional-name",onChange:a=>l("postal_code",a.target.value)})]}),e.jsx("div",{className:"flex items-center justify-between mt-4",children:e.jsx(f,{type:"submit",className:"w-full mt-2",disabled:h,children:t?"Ubah":"Buat"})})]})};export{B as InstanceForm};
