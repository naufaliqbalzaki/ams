import{W as g,j as e,A as r,y as o}from"./app-HVzR3odH.js";import{I as i}from"./InputError-xWxepXtM.js";import{A as j,a as f,b as D,c as y,d as A,e as N,f as I,g as b}from"./alert-dialog-DV_2nx8K.js";import{B as n}from"./button-C7r8i5Nw.js";import{I as m}from"./input-BS40_OPX.js";import{L as v}from"./label-Cs4FXMza.js";import{U as k}from"./index-Btxk1zEL.js";import"./index-CWRxT57E.js";import"./index-zE41FKNs.js";const S=({doc_type:a,importOpen:d,setImportOpen:x})=>{const{data:c,setData:p,post:h,processing:t,errors:l}=g({xlsx:null,doc_type:a,type:""});function u(s){s.preventDefault(),c.xlsx===null&&r.error("Tolong pilih file xlsx yang akan diimport."),r.loading("Mengimport dokumen..."),h(route("documents.import"),{forceFormData:!0,onSuccess:()=>{o.reload()},onFinish:()=>{o.reload()}})}return e.jsxs(j,{open:d,onOpenChange:s=>x(s),children:[e.jsx(f,{asChild:!0,children:e.jsxs(n,{variant:"secondary",children:[e.jsx(k,{className:"w-5 h-5"}),"Import"]})}),e.jsxs(D,{children:[e.jsxs(y,{children:[e.jsx(A,{children:"Import Documents (xlsx)"}),e.jsxs(N,{children:["Import dokumen menggunakan template yang telah disediakan."," ",e.jsx("a",{href:route("documents.download_template"),className:"text-blue-500",children:"Unduh template"})]})]}),e.jsxs("form",{onSubmit:u,children:[e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"mt-4",children:[e.jsx(v,{className:"mb-1",htmlFor:"xlsx",children:"Pilih file xlsx"}),e.jsx(m,{id:"xlsx",name:"xlsx",type:"file",className:"file:text-foreground",accept:".xlsx",onChange:s=>{s.target.files&&p("xlsx",s.target.files[0])}}),e.jsx(i,{message:l.xlsx,className:"mt-2"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(m,{id:"doc_type",name:"doc_type",type:"hidden",value:a,className:"hidden"}),e.jsx(i,{message:l.doc_type,className:"mt-2"})]})]}),e.jsxs(I,{className:"mt-4",children:[e.jsx(b,{disabled:t,children:"Batal"}),e.jsx(n,{type:"submit",disabled:t,children:"Import"})]})]})]})]})};export{S as ImportForm};
