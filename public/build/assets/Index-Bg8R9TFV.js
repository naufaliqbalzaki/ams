import{j as e,r as d,A as o,y as u,Y as l,b as m}from"./app-GsvMLTbp.js";import{D as x,a as i}from"./DataTableColumnHeader-BwEu_6ug.js";import{c as g,a as p,B as c}from"./button-DMTDEWdO.js";import{A as b}from"./AuthenticatedLayout-D4x2_WJx.js";import{D as f}from"./index-ue1D0MB8.js";import"./popover-zjhrGS5m.js";import"./index-BWAX3dll.js";import"./index-DTtjnrCh.js";import"./input-B7Es11Z3.js";import"./alert-dialog-aT_Aunk6.js";const j=p("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function h({className:n,variant:t,...a}){return e.jsx("div",{className:g(j({variant:t}),n),...a})}function y({appUrl:n}){return[{accessorKey:"name",header:({column:t})=>e.jsx(i,{column:t,title:"Nama File"}),cell(t){return t.row.index===0?e.jsxs(e.Fragment,{children:[t.getValue(),e.jsx(h,{className:"ml-4 bg-green-500 text-foreground",children:"Baru"})]}):e.jsx(e.Fragment,{children:t.getValue()})}},{accessorKey:"created_at",header:({column:t})=>e.jsx(i,{column:t,title:"Tanggal Dibuat"}),cell(t){const a=t.getValue(),r=new Date(a);return e.jsx("span",{children:r.toLocaleString("id-ID",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})})}},{accessorKey:"size",header:({column:t})=>e.jsx(i,{column:t,title:"Ukuran"}),cell(t){return e.jsxs("span",{children:[t.getValue()/1e3," KB"]})}},{accessorKey:"action",header(){return e.jsx("div",{className:"text-center",children:"Aksi"})},cell(t){return e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(c,{variant:"ghost",type:"button",className:"bg-blue-500 bg-opacity-5",onClick:async()=>{const a=await m.get(route("backups.download",t.row.original.name)),r=window.URL.createObjectURL(new Blob([a.data])),s=document.createElement("a");s.href=r,s.setAttribute("download",t.row.original.name),document.body.appendChild(s),s.click(),window.URL.revokeObjectURL(r),o.success("Berhasil mengunduh file.")},children:e.jsx(f,{className:"w-5 h-5 text-blue-500"})})})}}]}function K({auth:n,files:t,appUrl:a,flash:r}){const s=y({appUrl:a});return d.useEffect(()=>{o.dismiss(),r!=null&&r.success&&o.success(r.success),r!=null&&r.error&&o.error(r.error)},[r]),e.jsxs(b,{user:n.user,header:e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200",children:"Backup"}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(c,{onClick:()=>u.visit(route("backups.create")),children:"Buat Backup"})})]}),children:[e.jsx(l,{title:"Backup"}),e.jsx("div",{className:"px-8 pb-8 mx-auto max-w-[1728px]",children:e.jsx(x,{columns:s,data:t,showToolbar:!1})})]})}export{K as default};
